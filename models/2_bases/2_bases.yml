version: 2

models:
  - name: sales_orders__base
    columns:
      - name: sales_order_id
        tests:
          - not_null
          - unique
      - name: customer_id
        tests:
          - not_null
      - name: sales_order_date
      - name: sales_order_status
      - name: is_delivered

  - name: customer_payments__base
    columns:
      - name: customer_payment_id
      - name: sales_order_id
      - name: payment_method
        test:
          accepted values:
            values: ['Amex', 'Diners', 'Mastercard', 'Visa'] 
      - name: payment_status
      - name: payment_amount
      - name: created_at,
      - name: _batched_at

  - name: customer__base
    columns:
      - name: customer_id
      - name: customer
      - name: first_name
      - name: last_name
